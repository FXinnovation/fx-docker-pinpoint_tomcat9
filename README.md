# pinpoint-tomcat9
[![](https://images.microbadger.com/badges/version/fxinnovation/pinpoint-tomcat9.svg)](https://microbadger.com/images/fxinnovation/pinpoint-tomcat9 "Get your own version badge on microbadger.com") [![](https://images.microbadger.com/badges/image/fxinnovation/pinpoint-tomcat9.svg)](https://microbadger.com/images/fxinnovation/pinpoint-tomcat9 "Get your own image badge on microbadger.com")
## Description
This image is a alpine based tomcat9 image that includes the pinpoint agent.

## Tags
We do NOT push a `latest` tag for this image. You should always pin a specific version for it.

We do not follow the pinpoint-agent release tags in the docker image tags. You can always find the pinpoint-agent version in the Dockerfile that was used to create the image or you can use the labels.

*Note: We do publish a master tag, this tag allows us to test our images prior to releasing them. Do not use in production environments*

## Versioning
We follow semantic versioning on this image. 

*Please note that bumping the minor or hotfix on any of the underlying applications will result in bumping a minor of our image, but a major change of any of the underlying application will result in bumping a major of our image.*

## Usage
*This image isn't very usefull as is, you should build a new image from this image that includes you jar file or whatever*
```
docker run \
  -e [KEY]=[VALUE]
  fxinnovation/pinpoint-tomcat9:[TAG]
```
Where :

* [TAG]: Is the docker image tag you want to use
* [KEY]=[VALUE]: Are some env variable to configure the pinpoint agent, the possibilities are listed below.

| Key | Default Value | Description |
|-----|:-------------:|-------------|
|PINPOINT_PROFILER_COLLECTOR_IP|127.0.0.1|Host of the collector|
|PINPOINT_PROFILER_COLLECTOR_STAT_PORT|9995|STAT port of the collector|
|PINPOINT_PROFILER_COLLECTOR_SPAN_PORT|9996|SPAN port of the collector|
|PINPOINT_PROFILER_COLLECTOR_TCP_PORT|9994| TCP port of the collector|
|PINPOINT_PROFILER_ENABLE|true||
|PINPOINT_PROFILER_INTERCEPTORREGISTRY_SIZE|8192|in bytes|
|PINPOINT_PROFILER_JVM_COLLECT_INTERVAL|1000|in ms|
|PINPOINT_PROFILER_JVM_COLLECT_DETAILED_METRICS|true|Allow to add detailed collector's metrics|
|PINPOINT_PROFILER_SAMPLING_ENABLE|true|Allow sampling.|
|PINPOINT_PROFILER_SAMPLING_RATE|1|1 out of n transactions will be sampled where n is the rate. (20: 5%)|
|PINPOINT_PROFILER_IO_BUFFERING_ENABLE|true|Allow buffering when flushing span to IO.|
|PINPOINT_PROFILER_IO_BUFFERING_BUFFERSIZE|20|How many spans to store if buffering enabled.|
|PINPOINT_PROFILER_SPANDATASENDER_WRITE_QUEUE_SIZE|5120|Capacity of the SpanDataSender write queue.|
|PINPOINT_PROFILER_SPANDATASENDER_SOCKET_SENDBUFFERSIZE|""||
|PINPOINT_PROFILER_SPANDATASENDER_SOCKET_TIMEOUT|""||
|PINPOINT_PROFILER_SPANDATASENDER_CHUNK_SIZE|16384||
|PINPOINT_PROFILER_SPANDATASENDER_SOCKET_TYPE|OIO||
|PINPOINT_PROFILER_AGENTINFO_SEND_RETRY_INTERVAL|300000|Interval to retry sending agent info. Unit is milliseconds.|
|PINPOINT_PROFILER_STATDATASENDER_WRITE_QUEUE_SIZE|5120|Capacity of the StatDataSender write queue.|
|PINPOINT_PROFILER_STATDATASENDER_SOCKET_SENDBUFFERSIZE|""||
|PINPOINT_PROFILER_STATDATASENDER_SOCKET_TIMEOUT|""||
|PINPOINT_PROFILER_STATDATASENDER_CHUNK_SIZE|16384||
|PINPOINT_PROFILER_STATDATASENDER_SOCKET_TYPE|OIO||
|PINPOINT_PROFILER_TCPDATASENDER_COMMAND_ACCEPT_ENABLE|true|Allow TCP data command.|
|PINPOINT_PROFILER_TCPDATASENDER_COMMAND_ACTIVETHREAD_ENABLE|true||
|PINPOINT_PROFILER_TCPDATASENDER_COMMAND_ACTIVETHREAD_COUNT_ENABLE|true||
|PINPOINT_PROFILER_TCPDATASENDER_COMMAND_ACTIVETHREAD_THREADDUMP_ENABLE|true||
|PINPOINT_PROFILER_TCPDATASENDER_COMMAND_ACTIVETHREAD_THREADLIGHTDUMP_ENABLE|true||
|PINPOINT_PROFILER_PINPOINT_ACTIVETHREAD|true|Trace Agent active thread info.|
|PINPOINT_PROFILER_PINPOINT_DATASOURCE|true|Trace DataSource|
|PINPOINT_PROFILER_CALLSTACK_MAX_DEPTH|-1|Set max depth, if -1 is unlimited and min is 2.|
|PINPOINT_PROFILER_INTERCEPTOR_EXCEPTION_PROPAGATE|false|weather or not to propagate exceptions occurred at interceptor|
|PINPOINT_PROFILER_INSTRUMENT_ENGINE|ASM|Allow bytecode framework (JAVASSIST or ASM)|
|PINPOINT_BYTECODE_DUMP_ENABLE|false|java bytecode debug option|
|PINPOINT_BYTECODE_DUMP_CLASSLIST|""||
|PINPOINT_BYTECODE_DUMP_BYTECODE|false||
|PINPOINT_BYTECODE_DUMP_VERIFY|false||
|PINPOINT_BYTECODE_DUMP_ASM|false||
|PINPOINT_PROFILER_APPLICATIONSERVERTYPE|""||
|PINPOINT_PROFILER_TYPE_DETECT_ORDER|""||
|PINPOINT_PROFILER_PLUGIN_DISABLE|""||
|PINPOINT_PROFILER_INCLUDE|""|Needs to be a comma separated list of fully qualified class names, or fully qualified package names with wild card class.Ex: foo.bar.MyClass, foo.baz.\*|
|PINPOINT_PROFILER_ENTRYPOINT|""|Needs to be a comma separated list of fully qualified method names. Wild card not supported. Ex: foo.bar.MyClass.myMethod, foo.bar.MyClass.anotherMethod|
|PINPOINT_PROFILER_TOMCAT_ENABLE|false||
|PINPOINT_PROFILER_TOMCAT_BOOTSTRAP_MAIN|org.apache.catalina.startup.bootstrap||
|PINPOINT_PROFILER_TOMCAT_CONDITIONAL_TRANSFORM|true||
|PINPOINT_PROFILER_TOMCAT_HIDEPINPOINTHEADER|true||
|PINPOINT_PROFILER_TOMCAT_EXCLUDEURL|""||
|PINPOINT_PROFILER_TOMCAT_TRACEREQUESTPARAM|true||
|PINPOINT_PROFILER_TOMCAT_REALIPHEADER|""||
|PINPOINT_PROFILER_TOMCAT_REALIPEMPTYVALUE|""||
|PINPOINT_PROFILER_JETTY_ENABLE|false||
|PINPOINT_PROFILER_JETTY_BOOTSTRAP_MAIN|org.eclipse.jetty.start.main||
|PINPOINT_PROFILER_JETTY_EXCLUDEURL|""||
|PINPOINT_PROFILER_DUBBO_ENABLE|false||
|PINPOINT_PROFILER_DUBBO_BOOTSTRAP_MAIN|com.alibaba.dubbo.container.main||
|PINPOINT_PROFILER_JBOSS_ENABLE|false||
|PINPOINT_PROFILER_JBOSS_BOOTSTRAP_MAIN|org.jboss.modules.main||
|PINPOINT_PROFILER_JBOSS_CONDITIONAL_TRANSFORM|true||
|PINPOINT_PROFILER_JBOSS_HIDEPINPOINTHEADER|true||
|PINPOINT_PROFILER_JBOSS_EXCLUDEURL|""||
|PINPOINT_PROFILER_JBOSS_EXCLUDEMETHOD|""||
|PINPOINT_PROFILER_JBOSS_TRACEREQUESTPARAM|true||
|PINPOINT_PROFILER_JBOSS_REALIPHEADER|""||
|PINPOINT_PROFILER_JBOSS_REALIPEMPTYVALUE|""||
|PINPOINT_PROFILER_VERTX_ENABLE|false||
|PINPOINT_PROFILER_VERTX_BOOTSTRAP_MAIN|io.vertx.core.Starter||
|PINPOINT_PROFILER_VERTX_HANDLERS|""||
|PINPOINT_PROFILER_VERTX_HTTP_SERVER_ENABLE|false||
|PINPOINT_PROFILER_VERTX_HTTP_SERVER_TRACEREQUESTPARAM|true||
|PINPOINT_PROFILER_VERTX_HTTP_SERVER_EXCLUDEURL|""||
|PINPOINT_PROFILER_VERTX_HTTP_SERVER_REALIPHEADER|""||
|PINPOINT_PROFILER_VERTX_HTTP_SERVER_REALIPEMPTYVALUE|""||
|PINPOINT_PROFILER_VERTX_HTTP_SERVER_EXCLUDEMETHOD|""||
|PINPOINT_PROFILER_VERTX_HTTP_CLIENT_ENABLE|false||
|PINPOINT_PROFILER_VERTX_HTTP_CLIENT_PARAM|true||
|PINPOINT_PROFILER_VERTX_HTTP_CLIENT_COOKIE|true||
|PINPOINT_PROFILER_VERTX_HTTP_CLIENT_COOKIE_DUMPTYPE|ALWAYS||
|PINPOINT_PROFILER_VERTX_HTTP_CLIENT_COOKIE_SAMPLING_RATE|1||
|PINPOINT_PROFILER_VERTX_HTTP_CLIENT_ENTITY_STATUSCODE|true||
|PINPOINT_PROFILER_SPRINGBOOT_ENABLE|false||
|PINPOINT_PROFILER_SPRINGBOOT_BOOTSTRAP_MAIN|"org.springframework.boot.loader.JarLauncher, org.springframework.boot.loader.WarLauncher, org.springframework.boot.loader.PropertiesLauncher"||
|PINPOINT_PROFILER_JDBC|false||
|PINPOINT_PROFILER_JDBC_SQLCACHESIZE|1024||
|PINPOINT_PROFILER_JDBC_TRACESQLBINDVALUE|true||
|PINPOINT_PROFILER_JDBC_MAXSQLBINDVALUESIZE|1024||
|PINPOINT_PROFILER_JDBC_MYSQL|false||
|PINPOINT_PROFILER_JDBC_MYSQL_SETAUTOCOMMIT|true||
|PINPOINT_PROFILER_JDBC_MYSQL_COMMIT|true||
|PINPOINT_PROFILER_JDBC_MYSQL_ROLLBACK|true||
|PINPOINT_PROFILER_JDBC_MYSQL_TRACESQLBINDVALUE|true||
|PINPOINT_PROFILER_JDBC_MARIADB|false||
|PINPOINT_PROFILER_JDBC_MARIADB_SETAUTOCOMMIT|true||
|PINPOINT_PROFILER_JDBC_MARIADB_COMMIT|true||
|PINPOINT_PROFILER_JDBC_MARIADB_ROLLBACK|true||
|PINPOINT_PROFILER_JDBC_MARIADB_TRACESQLBINDVALUE|""||
|PINPOINT_PROFILER_JDBC_JTDS|false||
|PINPOINT_PROFILER_JDBC_JTDS_SETAUTOCOMMIT|true||
|PINPOINT_PROFILER_JDBC_JTDS_COMMIT|true||
|PINPOINT_PROFILER_JDBC_JTDS_ROLLBACK|true||
|PINPOINT_PROFILER_JDBC_JTDS_TRACESQLBINDVALUE|""||
|PINPOINT_PROFILER_JDBC_ORACLE|false||
|PINPOINT_PROFILER_JDBC_ORACLE_SETAUTOCOMMIT|true||
|PINPOINT_PROFILER_JDBC_ORACLE_COMMIT|ture||
|PINPOINT_PROFILER_JDBC_ORACLE_ROLLBACK|true||
|PINPOINT_PROFILER_JDBC_ORACLE_TRACESQLBINDVALUE|true||
|PINPOINT_PROFILER_JDBC_CUBRID|false||
|PINPOINT_PROFILER_JDBC_CUBRID_SETAUTOCOMMIT|true||
|PINPOINT_PROFILER_JDBC_CUBRID_COMMIT|true||
|PINPOINT_PROFILER_JDBC_CUBRID_ROLLBACK|true||
|PINPOINT_PROFILER_JDBC_CUBRID_TRACESQLBINDVALUE|true||
|PINPOINT_PROFILER_JDBC_DBCP|false||
|PINPOINT_PROFILER_JDBC_DBCP_CONNECTIONCLOSE|true||
|PINPOINT_PROFILER_JDBC_DBCP2|false||
|PINPOINT_PROFILER_JDBC_DBCP2_CONNECTIONCLOSE|true||
|PINPOINT_PROFILER_JDBC_HIKARICP|false||
|PINPOINT_PROFILER_JDBC_HIKARICP_CONNECTIONCLOSE|true||
|PINPOINT_PROFILER_CASSANDRA|false||
|PINPOINT_PROFILER_CASSANDRA_TRACECQLBINDVALUE|""||
|PINPOINT_PROFILER_JDBC_POSTGRESQL|false||
|PINPOINT_PROFILER_JDBC_POSTGRESQL_SETAUTOCOMMIT|true||
|PINPOINT_PROFILER_JDBC_POSTGRESQL_COMMIT|true||
|PINPOINT_PROFILER_JDBC_POSTGRESQL_ROLLBACK|true||
|PINPOINT_PROFILER_APACHE_HTTPCLIENT3_PARAM|true||
|PINPOINT_PROFILER_APACHE_HTTPCLIENT3_COOKIE|true||
|PINPOINT_PROFILER_APACHE_HTTPCLIENT3_COOKIE_DUMPTYPE|ALWAYS||
|PINPOINT_PROFILER_APACHE_HTTPCLIENT3_COOKIE_SAMPLING_RATE|1||
|PINPOINT_PROFILER_APACHE_HTTPCLIENT3_ENTITY|true||
|PINPOINT_PROFILER_APACHE_HTTPCLIENT3_ENTITY_DUMPTYPE|ALWAYS||
|PINPOINT_PROFILER_APACHE_HTTPCLIENT3_ENTITY_SAMPLING_RATE|1||
|PINPOINT_PROFILER_APACHE_HTTPCLIENT3_IO|true||
|PINPOINT_PROFILER_APACHE_HTTPCLIENT4_PARAM|true||
|PINPOINT_PROFILER_APACHE_HTTPCLIENT4_COOKIE|true||
|PINPOINT_PROFILER_APACHE_HTTPCLIENT4_COOKIE_DUMPTYPE|ALWAYS||
|PINPOINT_PROFILER_APACHE_HTTPCLIENT4_COOKIE_SAMPLING_RATE|1||
|PINPOINT_PROFILER_APACHE_HTTPCLIENT4_ENTITY|true||
|PINPOINT_PROFILER_APACHE_HTTPCLIENT4_ENTITY_DUMPTYPE|ALWAYS||
|PINPOINT_PROFILER_APACHE_HTTPCLIENT4_ENTITY_SAMPLING_RATE|1||
|PINPOINT_PROFILER_APACHE_HTTPCLIENT4_ENTITY_STATUSCODE|true||
|PINPOINT_PROFILER_APACHE_HTTPCLIENT4_IO|true||
|PINPOINT_PROFILER_JDK_HTTP_PARAM|true||
|PINPOINT_PROFILER_NING_ASYNCHTTPCLIENT|false||
|PINPOINT_PROFILER_NING_ASYNCHTTPCLIENT_COOKIE|true||
|PINPOINT_PROFILER_NING_ASYNCHTTPCLIENT_COOKIE_DUMPTYPE|ALWAYS||
|PINPOINT_PROFILER_NING_ASYNCHTTPCLIENT_COOKIE_DUMPSIZE|1024||
|PINPOINT_PROFILER_NING_ASYNCHTTPCLIENT_COOKIE_SAMPLING_RATE|1||
|PINPOINT_PROFILER_NING_ASYNCHTTPCLIENT_ENTITY|true||
|PINPOINT_PROFILER_NING_ASYNCHTTPCLIENT_ENTITY_DUMPTYPE|ALWAYS||
|PINPOINT_PROFILER_NING_ASYNCHTTPCLIENT_ENTITY_DUMPSIZE|1024||
|PINPOINT_PROFILER_NING_ASYNCHTTPCLIENT_ENTITY_SAMPLING_RATE|1||
|PINPOINT_PROFILER_NING_ASYNCHTTPCLIENT_PARAM|true||
|PINPOINT_PROFILER_NING_ASYNCHTTPCLIENT_PARAM_DUMPTYPE|ALWAYS||
|PINPOINT_PROFILER_NING_ASYNCHTTPCLIENT_PARAM_DUMPSIZE|1024||
|PINPOINT_PROFILER_NING_ASYNCHTTPCLIENT_PARAM_SAMPLING_RATE|1||
|PINPOINT_PROFILER_ARCUS|false||
|PINPOINT_PROFILER_ARCUS_KEYTRACE|true||
|PINPOINT_PROFILER_MEMCACHED|false||
|PINPOINT_PROFILER_MEMCACHED_KEYTRACE|true||
|PINPOINT_PROFILER_THRIFT_CLIENT|false||
|PINPOINT_PROFILER_THRIFT_CLIENT_ASYNC|true||
|PINPOINT_PROFILER_THRIFT_PROCESSOR|false||
|PINPOINT_PROFILER_THRIFT_PROCESSOR_ASYNC|true||
|PINPOINT_PROFILER_THRIFT_SERVICE_ARGS|true||
|PINPOINT_PROFILER_THRIFT_SERVICE_RESULT|true||
|PINPOINT_PROFILER_ORM_IBATIS|false||
|PINPOINT_PROFILER_ORM_MYBATIS|false||
|PINPOINT_PROFILER_LOG4J_LOGGING_TRANSACTIONINFO|false||
|PINPOINT_PROFILER_LOGBACK_LOGGING_TRANSACTIONINFO|false||
|PINPOINT_PROFILER_GOOGLE_HTTPCLIENT_ASYNC|false||
|PINPOINT_PROFILER_REDIS|true||
|PINPOINT_PROFILER_REDIS_IO|true||
|PINPOINT_PROFILER_OKHTTP_PARAM|false||
|PINPOINT_PROFILER_OKHTTP_COOKIE|false||
|PINPOINT_PROFILER_OKTHHP_COOKIE_DUMPTYPE|EXCEPTION||
|PINPOINT_PROFILER_OKHTTP_COOKIE_SAMPLING_RATE|1||
|PINPOINT_PROFILER_OKHTTP_ASYNC|false||
|PINPOINT_PROFILER_JSON_GSON|false||
|PINPOINT_PROFILER_JSON_JACKSON|true||
|PINPOINT_PROFILER_JSON_JSONLIB|false||
|PINPOINT_PROFILER_ACTIVEMQ_CLIENT_ENABLE|false||
|PINPOINT_PROFILER_ACTIVEMQ_CLIENT_PRODUCER_ENABLE|true||
|PINPOINT_PROFILER_ACTIVEMQ_CLIENT_CONSUMER_ENABLE|true||
|PINPOINT_PROFILER_ACTIVEMQ_CLIENT_DESTINATION_SEPARATOR|""||
|PINPOINT_PROFILER_ACTIVEMQ_CLIENT_DESTINATION_EXCLUDE|""||
|PINPOINT_PROFILER_HYSTRIX|false||
|PINPOINT_PROFILER_HYSTRIX_COMMAND_NUM_ANONYMOUSINNERCLASS|3||
|PINPOINT_PROFILER_RESIN_ENABLE|false||
|PINPOINT_PROFILER_RESIN_BOOTSTRAP_MAIN|com.caucho.server.resin.Resin||
|PINPOINT_PROFILER_RESIN_TRACEREQUESTPARAM|true||
|PINPOINT_PROFILER_RESIN_EXCLUDEURL|""||
|PINPOINT_PROFILER_RESIN_TRACECOOKIES|true||
|PINPOINT_PROFILER_RESIN_COOKIE_SAMPLING_RATE|1||
|PINPOINT_PROFILER_RESIN_COOKIE_DUMPTYPE|ALWAYS||


## Labels
We set labels on our images with additional information on the image. we follow the guidelines defined at http://label-schema.org/. Visit their website for more information about those labels.

## Comments & Issues
If you have comments or detect an issue, please be advised we don't check the docker hub comments. You can always contact us through the repository.
